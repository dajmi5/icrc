<odoo>
<record id="view_icontact_military_rank_form" model="ir.ui.view">
    <field name="name">icontact_military_rank_form</field>
    <field name="model">res.partner</field>
    <field name="inherit_id" ref="icrc_icontact.view_icontact_form"/>
    <field name="arch" type="xml">
        <field name="contact_type" position="after">
            <field name="military_rank_id"
                   invisible="contact_type != 'armed'"
                   required="contact_type == 'armed'"/>
        </field>
    </field>
</record>
<record id="view_icontact_military_rank_list" model="ir.ui.view">
    <field name="name">icontact_military_rank_list</field>
    <field name="model">res.partner</field>
    <field name="inherit_id" ref="icrc_icontact.view_icontact_list"/>
    <field name="arch" type="xml">
        <field name="contact_type" position="after">
            <field name="military_rank_id" optional="hide"/>
        </field>
    </field>
</record>
</odoo>